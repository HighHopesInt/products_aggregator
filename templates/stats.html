{% extends "base.html" %}

{% load static %}

{% block addi_css %}
    <link rel="stylesheet" href="{% static 'css/statistics.css' %}">
{% endblock %}

{% block content %}
    <h1>Statistics page</h1>
    <p>Total amount of goods: {{ count }}</p>
    <table>
        <tr>
            <td>Brand</td>
            <td>Products count</td>
        </tr>
        {% for brand, num in top_brand %}
            <tr>
                <td>{{ brand }}</td>
                <td>{{ num }}</td>
            </tr>
        {% endfor %}
    </table>
    <br>
    <h3>Most expensive men's shoes</h3>
    {% if top_male_boot %}
        <table>
            <tr>
                <td>Title</td>
                <td>Brand</td>
                <td>Color</td>
                <td>Price</td>
                <td>Sale price</td>
            </tr>
            {% for title, brand, color, price, sale_price in top_male_boot %}
                <tr>
                    <td>{{ title }}</td>
                    <td>{{ brand }}</td>
                    <td>{{ color }}</td>
                    <td>{{ price }}</td>
                    <td>{{ sale_price }}</td>
                </tr>
            {% endfor %}
        </table>
    {% else %}
        <p>There not statistic</p>
    {% endif %}
    <br>
    <h3>Most expensive men's shoes</h3>
    {% if top_female_boot %}
        <table>
            <tr>
                <td>Title</td>
                <td>Brand</td>
                <td>Color</td>
                <td>Price</td>
                <td>Sale price</td>
            </tr>
            {% for title, brand, color, price, sale_price in top_female_boot %}
                <tr>
                    <td>{{ title }}</td>
                    <td>{{ brand }}</td>
                    <td>{{ color }}</td>
                    <td>{{ price }}</td>
                    <td>{{ sale_price }}</td>
                </tr>
            {% endfor %}
        </table>
    {% else %}
        <p>There not statistics</p>
    {% endif %}
    <br>
    <table>
        <tr>
            <td>Color</td>
            <td>Percentage</td>
        </tr>
        {% for color, percent in per_ratio %}
            {% if color %}
                <tr>
                    <td>{{ color }}</td>
                    <td>{{ percent }} %</td>
                </tr>
            {% else %}
                <tr>
                    <td>-</td>
                    <td>{{ percent }} %</td>
                </tr>
            {% endif %}
        {% endfor %}
    </table>
    <br>
    <p>
        The number of product
        positions in the description of which is the word "famous":
        {{ famous_word }}
    </p>
    <br>
    <table>
        <tr>
            <td>Title</td>
            <td>Brands count</td>
            <td>Products count</td>
        </tr>
        {% for retailer, brand_of, number_of in retailer_stat %}
            <tr>
                <td>{{ retailer }}</td>
                <td>{{ brand_of }}</td>
                <td>{{ number_of }}</td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}
